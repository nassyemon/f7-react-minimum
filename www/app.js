(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{274:function(e,t,n){n(275),e.exports=n(482)},37:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=function(){return window.hasOwnProperty("cordova")},a=function(){return r()?(console.log("using cordova."),new Promise((function(e,t){document.addEventListener("deviceready",(function(){return console.log("device ready!"),console.log(StatusBar),e()}),!1)}))):(console.log("web platform."),Promise.resolve())},o=function(){r()&&(e.window.open=cordova.InAppBrowser.open)}}).call(this,n(125))},480:function(e,t,n){},482:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),i=n(17),c=n.n(i),u=n(253),l=n(222),s=n(36),f=n(50),p=n(223),d=n(224),m=n(137),h=n(219),g=n(37),b=n(546),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return{type:"SET_TOAST",payload:{message:e,type:t}}},y=Object(b.a)("CLEAR_TOAST");var O=n(93),w=n(226),E=n.n(w),j=n(65),C=n.n(j),_="https://lvktm7vhal.execute-api.ap-northeast-1.amazonaws.com/test",S="".concat(_,"/github"),x="".concat(_,"/github/callback"),P="".concat(_,"/github/login"),T="".concat(_,"/github/check"),k="".concat(_,"/github/logout"),D="".concat(_,"/documents"),N="".concat(_,"/document");function R(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,c,"next",e)}function c(e){R(o,r,a,i,c,"throw",e)}i(void 0)}))}}function L(e){return{Accept:"application/json","Content-Type":"application/json","X-Api-Session-Id":e||""}}function I(e){return M.apply(this,arguments)}function M(){return(M=A(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status>=400)){e.next=7;break}return e.t0=console,e.next=4,t.text();case 4:throw e.t1=e.sent,e.t0.error.call(e.t0,e.t1),new Error("Invalid response");case 7:return e.next=9,t.json();case 9:return n=e.sent,console.log(n),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){U(o,r,a,i,c,"next",e)}function c(e){U(o,r,a,i,c,"throw",e)}i(void 0)}))}}var H=function(){var e=B(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()(T,{method:"POST",headers:L(t),body:""});case 2:return n=e.sent,e.abrupt("return",I(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=B(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({code:t}),e.next=3,C()(P,{method:"POST",headers:L(),body:n});case 3:return r=e.sent,e.abrupt("return",I(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=B(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()(k,{method:"POST",headers:L(t),body:""});case 2:return n=e.sent,e.abrupt("return",I(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){return function(t){return e(t.login||{})}},W=G((function(e){return e.user_name})),J=(G((function(e){return e.user_id})),G((function(e){return e.session}))),X=G((function(e){return!!e.session})),$=n(227),V=n.n($);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,c,"next",e)}function c(e){q(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Z=function(){return Object(g.c)()?new Promise((function(e){var t=cordova.InAppBrowser.open(S,"_blank","location=yes,footer=yes");t.addEventListener("loadstop",function(){var n=K(regeneratorRuntime.mark((function n(r){var a,o,i,c,u,l,s,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(JSON.stringify(r)),a=r.url,o=a.split("?"),i=Q(o,2),c=i[1],u=void 0===c?"":c,l=V.a.parse(u)||{},s=l.code,f=void 0===s?null:s,console.log("code="+f),f&&(t.close(),e(f));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})):new Promise((function(e){var t=window.open(S,"_blank","location=yes,footer=yes,width=480,height=640"),n=setInterval((function(){t.postMessage({type:"REQUEST_AUTH_CODE"},x)}),100);window.addEventListener("message",function(){var r=K(regeneratorRuntime.mark((function r(a){var o,i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=a.data,i=o.type,c=o.code,console.log(a.data),"AUTH_CODE"===i?(console.log(c),c&&(clearInterval(n),e(c),n=setInterval((function(){t.postMessage({type:"REQUEST_CLOSE_WINDOW"},x)}),100))):"CLOSE_WINDOW"===i&&clearInterval(n);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}))};function ee(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,c,"next",e)}function c(e){ee(o,r,a,i,c,"throw",e)}i(void 0)}))}}var ne=function(e){return function(){var t=te(regeneratorRuntime.mark((function t(n,r){var a,o,i,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r(),X(a)&&n(re()),t.prev=2,t.next=5,F(e);case 5:return o=t.sent,i=o.session,c=o.user_id,u=o.user_name,t.abrupt("return",n(ae({session:i,user_name:u,user_id:c})));case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0),alert("連携認証に失敗しました。もう一度ログインをやりなおしてください"),n(re());case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}()};function re(){return{type:"LOGOUT"}}function ae(e){return{type:"LOGIN_SUCCESS",payload:{session:e.session,user_id:e.user_id,user_name:e.user_name}}}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=Object.freeze({session:null,user_id:null,user_name:null}),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,n=t.payload||{},r=n.session,a=n.user_id,o=n.user_name;switch(t.type){case"LOGIN_SUCCESS":case"REAUTH_SUCCESS":return ie(ie({},ue),{},{session:r,user_id:a,user_name:o});case"LOGOUT":return ie({},ue);default:return e}},se=Object(b.a)("TOGGLE_SIDEPANEL"),fe=Object(b.a)("OPEN_SIDEPANEL"),pe=Object(b.a)("CLOSE_SIDEPANEL");function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge={open:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;t.payload;switch(t.type){case"TOGGLE_SIDEPANEL":return me(me({},e),{},{open:!e.open});case"OPEN_SIDEPANEL":return me(me({},e),{},{open:!0});case"CLOSE_SIDEPANEL":return me(me({},e),{},{open:!1});default:return e}};function ve(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ve(o,r,a,i,c,"next",e)}function c(e){ve(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Oe=function(){var e=ye(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()(D,{headers:L(t)});case 2:return n=e.sent,e.abrupt("return",I(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=ye(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()("".concat(N,"/").concat(n),{headers:L(t)});case 2:return r=e.sent,e.abrupt("return",I(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){var e=ye(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.image,a=n.title,e.next=3,C()(N,{method:"POST",headers:L(t),body:JSON.stringify({image:r,title:a})});case 3:return o=e.sent,e.abrupt("return",I(o));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=ye(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()("".concat(N,"/").concat(n),{method:"DELETE",headers:L(t)});case 2:return r=e.sent,e.abrupt("return",I(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=function(e){return function(t){return e(t.documents||{})}},Pe=(xe((function(e){return e.data})),xe((function(e){return e.loaded}))),Te=xe((function(e){return e.loading})),ke=xe((function(e){return e.deleting})),De=xe((function(e){return e.selected})),Ne=xe((function(e){var t=e.data,n=e.selected;return Array.isArray(t)?t.map((function(e){return _e(_e({},e),{},{selected:n.indexOf(e.id)>-1})})):t}));function Re(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var Ae=function(e,t,n,r){return function(){var a,o=(a=regeneratorRuntime.mark((function a(o,i){var c,u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=null,a.prev=1,a.next=4,o(function(){var e=te(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),X(r)){e.next=6;break}return e.next=4,Z();case 4:a=e.sent,t(ne(a));case 6:return e.abrupt("return",J(r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 4:c=a.sent,a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(1),alert("セッションが無効になりました。再ログインが必要です"),a.abrupt("return");case 11:return a.prev=11,o(e()),a.next=15,r(c,o,i);case 15:u=a.sent,o(t(u)),a.next=24;break;case 19:a.prev=19,a.t1=a.catch(11),o(n()),console.error(a.t1),alert("エラーが発生しました。再度やり直してください");case 24:case"end":return a.stop()}}),a,null,[[1,7],[11,19]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Re(o,n,r,i,c,"next",e)}function c(e){Re(o,n,r,i,c,"throw",e)}i(void 0)}))});return function(e,t){return o.apply(this,arguments)}}()};function Le(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Le(o,r,a,i,c,"next",e)}function c(e){Le(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Me=Object(b.a)("TOGGLE_DOCUMENT_SELECT"),Ue=(Object(b.a)("CLEAR_DOCUMENT_SELECT"),function(){return Ae(Object(b.a)("FETCH_DOCUMENTS_START"),Object(b.a)("FETCH_DOCUMENTS_SUCCESS"),Object(b.a)("FETCH_DOCUMENTS_FAIL"),function(){var e=Ie(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),Be=function(e){return function(t){return e(t.picture||{})}},He=(Be((function(e){return e.pictures})),Be((function(e){var t;return(null===(t=e.pictures)||void 0===t?void 0:t.length)>0?e.pictures[0]:null}))),Fe=Be((function(e){return e.sending})),ze=Be((function(e){return e.title}));function Ge(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var We=function(e,t){return{type:"ADD_PICTURE",payload:{uri:e,name:t}}},Je=function(){return Ae(Object(b.a)("SEND_PICTURE_START"),Object(b.a)("SEND_PICTURE_SUCCESS"),Object(b.a)("SEND_PICTURE_FAIL"),function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=He(a).uri,i=ze(a)||"No Title!!",e.next=5,Ee(t,{image:o,title:i});case 5:c=e.sent,console.log(c),n(v("投稿完了"));case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ge(o,r,a,i,c,"next",e)}function c(e){Ge(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}())},Xe=Object(b.a)("SET_TITLE");function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e){return Ve(Ve({},e),{},{loading:!0,loaded:!1,error:null})},qe=function(e){return Ve(Ve({},e),{},{loading:!1,loaded:!0,error:null})},Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ve(Ve({},e),{},{loading:!1,loaded:!1,error:t})},Ze=function(e){return Ve(Ve({},e),{},{sending:!0,sended:!1,error:null})},et=function(e){return Ve(Ve({},e),{},{sending:!1,sended:!0,error:null})},tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ve(Ve({},e),{},{sending:!1,sended:!1,error:t})},nt=function(e){return Ve(Ve({},e),{},{deleting:!0,deleted:!1,error:null})},rt=function(e){return Ve(Ve({},e),{},{deleting:!1,deleted:!0,error:null})},at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ve(Ve({},e),{},{deleting:!1,deleted:!1,error:t})};function ot(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=Object.freeze({data:null,selected:[],loading:!1,loaded:!1,deleting:!1,deleted:!1,error:null}),ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"FETCH_DOCUMENTS_START":return Ye(e);case"FETCH_DOCUMENTS_SUCCESS":return qe(ut(ut({},e),{},{data:n}));case"FETCH_DOCUMENTS_FAIL":return Ke(e);case"DELETE_DOCUMENTS_START":return nt(e);case"DELETE_DOCUMENTS_SUCCESS":return rt(ut(ut({},e),{},{data:[],selected:[],loading:!1,loaded:!1}));case"DELETE_DOCUMENTS_FAIL":return at(ut(ut({},e),{},{data:[],loading:!1,loaded:!1}));case"TOGGLE_DOCUMENT_SELECT":return ut(ut({},e),{},{selected:pt(e.selected,n)});case"CLEAR_DOCUMENT_SELECT":return ut(ut({},e),{},{selected:[]});case"SEND_PICTURE_SUCCESS":case"SEND_PICTURE_FAIL":case"CLEAR_DOCUMENTS":return ut({},st);default:return e}};function pt(e,t){var n=e.indexOf(t);return n<0?[].concat(ot(e),[t]):[].concat(ot(e.slice(0,n)),ot(e.slice(n+1)))}function dt(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var mt=function(e){return Ae(Object(b.a)("FETCH_DETAIL_START"),Object(b.a)("FETCH_DETAIL_SUCCESS"),Object(b.a)("FETCH_DETAIL_FAIL"),function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we(n,e);case 2:return r=t.sent,console.log(r),t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){dt(o,r,a,i,c,"next",e)}function c(e){dt(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())},ht=Object(b.a)("CLEAR_DETAIL");function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=Object.freeze({data:null,loading:!1,loaded:!1,error:null}),Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DETAIL_START":return Ye(e);case"FETCH_DETAIL_SUCCESS":return qe(bt(bt({},yt),{},{data:t.payload}));case"FETCH_DETAIL_FAIL":return Ke(e);case"CLEAR_DETAIL":return bt({},yt);default:return e}};function wt(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St={pictures:[],title:"",sending:!1,sended:!1,error:null},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"ADD_PICTURE":return Ct(Ct({},e),{},{pictures:[{uri:n.uri,name:n.name||"NO_NAME"}].concat(wt(e.pictures))});case"SEND_PICTURE_START":return Ze(e);case"SEND_PICTURE_SUCCESS":return et(St);case"SEND_PICTURE_FAIL":return tt(e);case"CLEAR_PICTURE":return Ct({},St);case"SET_TITLE":return Ct(Ct({},e),{},{title:n});default:return e}};function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=Object.freeze({visible:!1,message:null,type:null}),Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"SET_TOAST":return{visible:!0,type:r.type,message:r.message};case"CLEAR_TOAST":return Tt(Tt({},e),{},{visible:!1});default:return e}},Rt=n(254),At=n(169),Lt=n.n(At),It=n(170),Mt=n.n(It),Ut=n(228),Bt=n.n(Ut);function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gt=Lt.a,Wt=Mt.a,Jt={palette:{primary:Lt.a,secondary:Mt.a,error:Bt.a,contrastThreshold:3,tonalOffset:.2}},Xt={theme:Object(Rt.a)(Jt),darkMode:!1,colorsSwaped:!1};function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"settings/TOGGLETHEMEMODE":return t.enableDark?Ft(Ft({},e),{},{theme:Object(Rt.a)(Ft(Ft({},Jt),{},{palette:Ft(Ft({},Jt.palette),{},{primary:e.theme.palette.primary,secondary:e.theme.palette.secondary,type:"dark"})})),darkMode:!0}):Ft(Ft({},e),{},{theme:Object(Rt.a)(Ft(Ft({},Jt),{},{palette:Ft(Ft({},Jt.palette),{},{primary:e.theme.palette.primary,secondary:e.theme.palette.secondary})})),darkMode:!1});case"settings/SWAPTHEMECOLORS":return t.colorsSwaped?Ft(Ft({},e),{},{theme:Object(Rt.a)(Ft(Ft({},Jt),{},{palette:Ft(Ft({},e.theme.palette),{},{primary:Wt,secondary:Gt})})),colorsSwaped:!0}):Ft(Ft({},e),{},{theme:Object(Rt.a)(Ft(Ft({},Jt),{},{palette:Ft(Ft({},e.theme.palette),{},{primary:Gt,secondary:Wt})})),colorsSwaped:!1});default:return e}}function Vt(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Vt(o,r,a,i,c,"next",e)}function c(e){Vt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qt,Kt,Zt,en,tn,nn,rn=Object(g.c)()?Object(f.b)():Object(f.a)(),an=(Object(d.createLogger)(),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d),on=[Object(h.a)(rn),p.a,(qt={delay:1e3},Kt=qt.delay,Zt=null,function(e){var t=e.dispatch;return function(e){return function(n){if(e(n),"SET_TOAST"===n.type){if(Zt)return;Zt=setTimeout((function(){Zt=null,t(y())}),Kt)}"CLEAR_TOAST"===n.type&&Zt&&(clearTimeout(Zt),Zt=null)}}}),!1].filter(Boolean),cn=Object(s.e)((tn=rn,Object(m.a)({key:"root",storage:E.a,whitelist:["login","settings"]},function(e){return Object(s.c)({router:Object(O.b)(e),login:le,toast:Nt,picture:xt,settings:$t,sidepanel:be,documents:ft,detail:Ot})}(tn))),{},an(s.a.apply(void 0,function(e){if(Array.isArray(e))return Yt(e)}(en=on)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(en)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}(en)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),un=Object(m.b)(cn,null,Qt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cn.getState();case 1:case"end":return e.stop()}}),e)})))),ln=n(26),sn=n(540),fn=n(543),pn=n(539),dn=n(7),mn=n(18),hn=n(71),gn=n(6),bn=n(531),vn=n(532),yn=n(530),On=(nn=function(e){return e.open},function(e){return nn(e.sidepanel||{})});function wn(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  min-height: 100%;\n  background-color: #ffffff;\n"]);return wn=function(){return e},e}var En=dn.b.div(wn());var jn=function(){return a.a.createElement(En,null)};function Cn(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  dispaly: none;\n"]);return Cn=function(){return e},e}var _n=dn.b.div(Cn());var Sn=function(){return a.a.createElement(_n,null)},xn=n(516),Pn=n(519),Tn=n(484),kn=n(236),Dn=n.n(kn),Nn=n(138),Rn=Object(dn.b)(xn.a).withConfig({displayName:"Header__Headerbar"})(["background:#fcfcfc;color:#888888;display:flex;position:relative;"]),An=Object(dn.b)(Pn.a).withConfig({displayName:"Header__AppToolbar"})(["min-height:0px;"]),Ln=Object(dn.b)(Nn.a).withConfig({displayName:"Header__HeaderTitle"})(["flex-grow:1;z-index:1200;"]);var In=Object(gn.a)((function(e){return{}}))(Object.assign((function(e){var t=e.onClicHamberger;return a.a.createElement(Rn,{position:"fixed",elevation:1},a.a.createElement(An,{disableGutters:!0},a.a.createElement(r.Fragment,null,a.a.createElement(Tn.a,{color:"inherit","aria-label":"Open drawer",onClick:t},a.a.createElement(Dn.a,null)),a.a.createElement(Ln,{variant:"subtitle1",color:"inherit",noWrap:!0},"アプリちゃん"))))}),{height:"56px",paddingTop:"16px"})),Mn=Object(mn.a)(Object(o.c)(null,(function(e){return{onClicHamberger:function(){return e(se())}}})))(In),Un=n(29),Bn=function(){return Object(Un.e)("/documents")},Hn=function(){return Object(Un.f)("/documents")};function Fn(e,t,n){return navigator.camera.getPicture(function(e,t){return function(n){return t===Camera.DestinationType.DATA_URL?e(We("data:image/jpeg;base64, ".concat(n),Date.now())):e(We(n,Date.now())),e(Object(Un.e)("/submit-picture"))}}(n,t),(function(e){alert(e)}),function(e,t){return{targetWidth:720,targetHeight:1280,quality:75,sourceType:e,destinationType:t,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.PICTURE,cameraDirection:Camera.Direction.BACK,correctOrientation:!0}}(e,t))}var zn=n(520),Gn=n(521),Wn=n(237),Jn=n.n(Wn),Xn=n(238),$n=n.n(Xn),Vn=n(239),Qn=n.n(Vn),Yn=dn.b.div.withConfig({displayName:"Footer__Root"})([""]),qn=Object(dn.b)(zn.a).withConfig({displayName:"Footer__Buttons"})(["height:",";"],(function(e){return e.height}));var Kn=Object(gn.a)((function(e){return{}}))(Object.assign((function(e){var t=e.onClickCameraButton,n=e.onClickDocumentButton,r=e.onClickHomeButton;return a.a.createElement(Yn,null,a.a.createElement(qn,{showLabels:!0},a.a.createElement(Gn.a,{label:"ホーム",onClick:r,icon:a.a.createElement(Jn.a,null)}),a.a.createElement(Gn.a,{label:"カメラ",onClick:t,icon:a.a.createElement($n.a,{fontSize:"large"})}),a.a.createElement(Gn.a,{label:"ドキュメント",onClick:n,icon:a.a.createElement(Qn.a,null)})))}),{height:"56px"})),Zn=Object(o.c)((function(e){return{isApp:Object(g.c)(),hasWebCamera:!!navigator.mediaDevices}}),(function(e){return{onClickHomeButton:function(){return e(pe()),e(Object(Un.e)("/"))},onClickCameraButton:function(){return Object(g.c)()?Fn(Camera.PictureSourceType.CAMERA,Camera.DestinationType.DATA_URL,e):e(Object(Un.e)("/camera"))},onClickDocumentButton:function(){return e(pe()),e(Bn())}}}))(Kn),er=n(547),tr=n(522),nr=n(523),rr=n(524),ar=n(525),or=n(240),ir=n.n(or),cr=n(241),ur=n.n(cr),lr=n(243),sr=n.n(lr),fr=n(242),pr=n.n(fr);function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var mr={width:"240px"},hr=Object(dn.b)(er.a).withConfig({displayName:"Sidebar__StyledDrawer"})(["& > div{z-index:1100;position:fixed;top:",";white-space:nowrap;width:",";transition:",";","}"],(function(e){return e.headerHeight}),(function(e){var t=e.open,n=e.width;return t?n:"0px"}),(function(e){var t=e.theme;return t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.standard})}),(function(e){var t=e.open;e.theme;return t?"":"\n    overflow-x: hidden;\n  "}));var gr=Object(gn.a)((function(){return{}}))(Object.assign((function(e){var t=e.open,n=e.isLoggedIn,o=e.headerHeight,i=e.closeSidepanel,c=e.sideBarWidth,u=e.onClickRefresh,l=e.onClickLogout,s=e.onClickDocuments,f=e.onClickSetting;return a.a.createElement(hn.a,{onSwipedLeft:i},a.a.createElement(hr,dr({headerHeight:o,variant:"permanent",width:c,open:t,onClick:i},mr),a.a.createElement(tr.a,null,n?a.a.createElement(r.Fragment,null,a.a.createElement(nr.a,{button:!0,onClick:s},a.a.createElement(rr.a,null,a.a.createElement(ir.a,null)),a.a.createElement(ar.a,{primary:"ドキュメント一覧"})),a.a.createElement(nr.a,{button:!0,onClick:u},a.a.createElement(rr.a,null,a.a.createElement(ur.a,null)),a.a.createElement(ar.a,{primary:"再読み込み"})),a.a.createElement(nr.a,{button:!0,onClick:l},a.a.createElement(rr.a,null,a.a.createElement(pr.a,null)),a.a.createElement(ar.a,{primary:"ログアウト"}))):null,a.a.createElement(nr.a,{button:!0,onClick:f},a.a.createElement(rr.a,null,a.a.createElement(sr.a,null)),a.a.createElement(ar.a,{primary:"設定"})))))}),mr)),br=Object(mn.a)(Object(o.c)((function(e){return{isLoggedIn:X(e),userName:W(e)}}),(function(e){return{closeSidepanel:function(){return e(pe())},onClickDocuments:function(){return e(Bn())},onClickLogout:function(){return e(function(){var e=te(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),a=J(r),e.prev=2,e.next=5,z(a);case 5:t({type:"LOGOUT"}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),alert("ログアウト処理に失敗しました。別のブラウザで手動でログアウトを行ってください"),t({type:"LOGOUT"});case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}())},onClickSetting:function(){return e(Object(Un.e)("/setting"))},onClickRefresh:function(){return e(function(){var e=te(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),a=J(r),e.prev=2,e.next=5,H(a);case 5:return o=e.sent,i=o.session,c=o.user_id,u=o.user_name,t({type:"REAUTH_SUCCESS",payload:{session:(l={session:i,user_name:u,user_id:c}).session,user_id:l.user_id,user_name:l.user_name}}),e.abrupt("return",t(v("再認証成功")));case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),alert("セッションが無効になりました。再ログインが必要です"),t({type:"LOGOUT"});case 18:case"end":return e.stop()}var l}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}())}}})))(gr),vr=n(526),yr=n(542),Or=n(527),wr=Object(dn.b)(vr.a).withConfig({displayName:"Login__Root"})(["position:relative;min-height:100%;background-color:#ffffff;padding:","px;"],(function(e){return e.theme.spacing(2)})),Er=Object(dn.b)(vr.a).withConfig({displayName:"Login__TitleButtonContainer"})(["display:flex;align-items:center;justify-content:center;height:20vh;"]),jr=dn.b.div.withConfig({displayName:"Login__ContentContainer"})(["display:flex;align-items:center;justify-content:center;flex-grow:1;"]),Cr=Object(dn.b)(vr.a).withConfig({displayName:"Login__LoginButtonContainer"})(["display:flex;align-items:center;justify-content:center;height:20vh;"]);var _r=Object(gn.a)((function(){return{}}))((function(e){var t=e.onClickLogin,n=e.isLoggedIn;return a.a.createElement(wr,{show:n?1:0,noheader:0},a.a.createElement(yr.a,null,a.a.createElement(Er,null,a.a.createElement(Nn.a,{variant:"h4",component:"h4"},"ログイン")),a.a.createElement(jr,null,a.a.createElement("div",null)," "),a.a.createElement(Cr,{maxWidth:"sm"},a.a.createElement(Or.a,{onClick:t,variant:"contained",size:"large",color:"primary"},"ログイン"))))}));function Sr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var xr=Object(mn.a)(Object(o.c)((function(e){return{isLoggedIn:X(e)}}),(function(e){return{onClickLogin:(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z();case 3:n=t.sent,e(ne(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("ログイン処理に失敗しました.");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){Sr(o,r,a,i,c,"next",e)}function c(e){Sr(o,r,a,i,c,"throw",e)}i(void 0)}))},function(){return n.apply(this,arguments)})};var t,n})))(_r),Pr=n(528),Tr=dn.b.div.withConfig({displayName:"GlobalIndicator__Root"})(["position:fixed;display:flex;align-items:center;justify-content:center;flex-direction:column;top:0;width:100vw;height:100vh;z-index:2000;background-color:rgba(248,248,248,0.3);"]),kr=dn.b.div.withConfig({displayName:"GlobalIndicator__SpinnerBox"})(["width:70vw;height:50px;border-radius:8px;background:#f8f8f8;display:flex;align-items:center;padding-left:10px;"]),Dr=dn.b.div.withConfig({displayName:"GlobalIndicator__TextContainer"})(["flex-grow:1;display:flex;align-items:center;padding-left:20px;"]);var Nr=Object(gn.a)((function(){return{}}))((function(e){var t=e.show,n=e.sending,r=e.deleting;return t?a.a.createElement(Tr,null,a.a.createElement(kr,null,a.a.createElement(Pr.a,{size:30}),a.a.createElement(Dr,null,a.a.createElement(Nn.a,null,function(e,t){if(e)return"データを送信しています";if(t)return"データを削除しています";return"通信中です"}(n,r))))):null})),Rr=Object(mn.a)(Object(o.c)((function(e){var t=Fe(e),n=ke(e),r=[t].some(Boolean),a=[n].some(Boolean);return{show:r||a,sending:r,deleting:a}}),(function(e){return{}})))(Nr),Ar=n(256),Lr=n(529),Ir=n(134),Mr=n.n(Ir),Ur=function(e){return function(t){return e(t.toast||{})}},Br=Ur((function(e){return e.visible})),Hr=Ur((function(e){return e.message})),Fr=Ur((function(e){return e.type})),zr=Object(dn.b)(Ar.a).withConfig({displayName:"toast__ToastPaper"})(["position:fixed;display:flex;flex-direction:column;justify-content:center;align-items:center;"," background-color:rgb(153,193,60,0.8);"],(function(e){var t=e.theme;e.message;return"\n    z-index: 700;\n    width: ".concat(t.spacing(10),"px;\n    height: ").concat(t.spacing(10),"px;\n    top: calc(50vh - ").concat(t.spacing(5),"px);\n    left: calc(50vw - ").concat(t.spacing(5),"px);\n  ")})),Gr=Object(dn.b)(Mr.a).withConfig({displayName:"toast__SuccessIcon"})([""," color:#ffffff;"],(function(e){var t=e.theme;return"\n    width: ".concat(t.spacing(6),"px;\n    height: ").concat(t.spacing(6),"px;\n  ")})),Wr=dn.b.span.withConfig({displayName:"toast__Title"})(["color:#ffffff;font-size:8px;"]);Object(mn.a)(Object(o.c)((function(e){return{visible:Br(e),message:Hr(e),type:Fr(e)}}),(function(e){return{onClick:function(){return e((void 0)())}}})))((function(e){var t=e.onClick,n=e.message,r=e.visible;return a.a.createElement(Lr.a,{in:r,timeout:r?300:600},a.a.createElement(zr,{elevation:2,onClick:t},a.a.createElement(Gr,null),a.a.createElement(Wr,null,n)))}));var Jr=Object(dn.b)(Ar.a).withConfig({displayName:"Toast__ToastPaper"})(["position:fixed;display:flex;flex-direction:column;justify-content:center;align-items:center;"," background-color:rgb(153,193,60,0.8);"],(function(e){var t=e.theme;e.message;return"\n    z-index: 700;\n    width: ".concat(t.spacing(10),"px;\n    height: ").concat(t.spacing(10),"px;\n    top: calc(50vh - ").concat(t.spacing(5),"px);\n    left: calc(50vw - ").concat(t.spacing(5),"px);\n  ")})),Xr=Object(dn.b)(Mr.a).withConfig({displayName:"Toast__SuccessIcon"})([""," color:#ffffff;"],(function(e){var t=e.theme;return"\n    width: ".concat(t.spacing(6),"px;\n    height: ").concat(t.spacing(6),"px;\n  ")})),$r=dn.b.span.withConfig({displayName:"Toast__Title"})(["color:#ffffff;font-size:8px;"]);var Vr=Object(mn.a)(Object(o.c)((function(e){return{visible:Br(e),message:Hr(e),type:Fr(e)}}),(function(e){return{onClick:function(){return e((void 0)())}}})))((function(e){var t=e.onClick,n=e.message,r=e.visible;return a.a.createElement(Lr.a,{in:r,timeout:r?300:600},a.a.createElement(Jr,{elevation:2,onClick:t},a.a.createElement(Xr,null),a.a.createElement($r,null,n)))})),Qr=function(e){return function(t){var n=t.theme;return"\ntransition: ".concat(n.transitions.create(e,{easing:n.transitions.easing.sharp,duration:n.transitions.duration.standard}),";\n")}};function Yr(){return(Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zr=dn.b.div.withConfig({displayName:"MainLayout__Root"})(["display:flex;flex-direction:column;"]),ea=dn.b.main.withConfig({displayName:"MainLayout__Screen"})(["width:200vw;overflow-x:hidden;overflow-y:hidden;position:relative;margin-top:",";"," transform:",";display:flex;flex-direction:row;align-items:flex-start;"],(function(e){return e.headerHeight}),Qr(["transform","margin"]),(function(e){var t=e.isSidePanelOpen,n=e.sideBarWidth;return t?"translateX(".concat(n,")"):""})),ta=dn.b.div.withConfig({displayName:"MainLayout__HeaderContainer"})(["z-index:1200;height:",";padding-top:",";width:100vw;position:fixed;display:flex;background:#fcfcfc;display:flex;flex-direction:column;justify-content:flex-end;",""],(function(e){return e.headerHeight}),(function(e){return e.headerPaddingTop}),Qr(["transform","height"])),na=dn.b.div.withConfig({displayName:"MainLayout__FooterContainer"})(["position:fixed;z-index:2000;width:100vw;height:",";bottom:0;display:flex;flex-direction:column;justify-content:flex-end;",""],(function(e){return e.footerHeight}),Qr(["transform","height"])),ra=dn.b.div.withConfig({displayName:"MainLayout__Panel"})(["width:100vw;overflow-x:hidden;overflow-y:scroll;height:",");padding-bottom:",";",""],(function(e){return"calc(100vh - ".concat(e.headerHeight)}),(function(e){return e.footerHeight}),Qr(["transform","height","padding"])),aa=Object(dn.b)(ra).withConfig({displayName:"MainLayout__MainPanel"})(["",""],(function(e){return e.showRight?"transform: translateX(-100vw)":""})),oa=Object(dn.b)(ra).withConfig({displayName:"MainLayout__RightPanel"})(["",""],(function(e){return e.showRight?"transform: translateX(-100vw)":""})),ia=Object(dn.b)(ra).withConfig({displayName:"MainLayout__BottomPanel"})(["position:absolute;top:100vh;left:0px;z-index:1300;",""],(function(e){return e.showBottom?"transform: translateY(-100vh)":""})),ca=Object(dn.b)(ra).withConfig({displayName:"MainLayout__LoginPanel"})(["position:absolute;top:100vh;left:0px;z-index:1500;",""],(function(e){return e.hasSession?"":"transform: translateY(-100vh)"})),ua=dn.b.div.withConfig({displayName:"MainLayout__ScreenBlock"})(["position:absolute;z-index:1600;top:0;left:0;width:0px;height:100vh;background-color:tranparent;"," background-color:height:100h;",""],(function(e){return e.isSidePanelOpen?"\n    width: 100vw;\n    background-color: rgba(128,128,128,0.2);\n  ":""}),Qr(["transform"])),la=dn.b.div.withConfig({displayName:"MainLayout__ButtonContainer"})(["position:absolute;"," "," background-color:transparent;z-index:800;"],(function(e){var t=e.theme;return"\n    bottom: ".concat(t.spacing(15),"px; \n    right: calc(100vw + ").concat(t.spacing(4),"px);\n  ")}),Qr(["transform"]));var sa=Object(mn.a)(Object(o.c)((function(e){return{sending:[Fe(e)].some(Boolean),hasSession:X(e),isSidePanelOpen:On(e)}}),(function(e){return{closeSidepanel:function(){return e(pe())}}})),Object(gn.a)((function(){return{}})))((function(e){var t=e.isSidePanelOpen,n=e.mainComponent,o=e.rightComponent,i=void 0===o?jn:o,c=e.bottomComponent,u=void 0===c?jn:c,l=e.footerComponent,s=void 0===l?Zn:l,f=e.controlComponent,p=void 0===f?Sn:f,d=e.headerComponent,m=void 0===d?Mn:d,h=e.sidepanelComponent,g=void 0===h?br:h,b=e.onSwiped,v=e.hasSession,y=e.closeSidepanel,O=e.matchProps,w=e.right,E=e.bottom,j=e.control,C=[Object(r.useRef)(null),Object(r.useRef)(null),Object(r.useRef)(null)],_=C[0],S=C[1],x=C[2],P=qr([_,S,x].map(yn.a),3),T=P[0],k=P[1],D=P[2],N=T||k,R=s.height,A=m.height,L=m.paddingTop,I=g.width;return a.a.createElement(r.Fragment,null,a.a.createElement(Zr,null,a.a.createElement(ta,{headerHeight:A,headerPaddingTop:L},a.a.createElement(m,O)),a.a.createElement(ea,{isSidePanelOpen:t,sideBarWidth:I,headerHeight:A},a.a.createElement(hn.a,{onSwiped:b},a.a.createElement(aa,{showRight:w,ref:_,footerHeight:R,headerHeight:A},a.a.createElement(n,Yr({},O,{hasSession:v,scrolling:T})))),a.a.createElement(hn.a,{onSwiped:b},a.a.createElement(oa,{showRight:w,ref:S,footerHeight:R,headerHeight:A},a.a.createElement(i,Yr({},O,{hasSession:v,scrolling:k})))),a.a.createElement(hn.a,{onSwiped:b},a.a.createElement(ia,{showBottom:E,ref:x,footerHeight:R,headerHeight:A},a.a.createElement(u,Yr({},O,{hasSession:v,scrolling:D})))),a.a.createElement(ca,{hasSession:v,headerHeight:A,footerHeight:R},a.a.createElement(xr,null)),a.a.createElement(hn.a,{onSwipedLeft:y},a.a.createElement(ua,{isSidePanelOpen:t,onClick:y})),a.a.createElement(la,{showRight:w},a.a.createElement(bn.a,{in:j&&!t&&!N},a.a.createElement(vn.a,{color:"secondary",size:"medium","aria-label":"edit"},a.a.createElement(p,O)))))),a.a.createElement(br,{open:t,headerHeight:A,footerHeight:R}),a.a.createElement(na,{footerHeight:R},a.a.createElement(s,O)),a.a.createElement(Rr,null),a.a.createElement(Vr,null))}));function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pa(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function da(e){var t=e.mainComponent,n=e.rightComponent,r=e.controlComponent,o=e.footerComponent,i=e.onSwiped,c=e.show,u=e.showControl,l=pa(e,["mainComponent","rightComponent","controlComponent","footerComponent","onSwiped","show","showControl"]);return a.a.createElement(ln.b,fa({},l,{render:function(e){return a.a.createElement(sa,{mainComponent:t,rightComponent:n,controlComponent:r,footerComponent:o,onSwiped:i,show:c,showControl:u,matchProps:e})}}))}var ma=dn.b.div.withConfig({displayName:"EmptyLayout__Root"})(["display:flex;flex-direction:column;"]),ha=dn.b.main.withConfig({displayName:"EmptyLayout__Screen"})(["width:100vh;overflow-x:hidden;"," display:flex;flex-direction:row;align-items:flex-start;"],(function(e){var t=e.theme;return"\n  transition: ".concat(t.transitions.create(["transform"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.standard}),"; ")}));var ga=Object(mn.a)(Object(o.c)((function(e){return{sending:[Fe(e)].some(Boolean)}}),(function(e){return{}})),Object(gn.a)((function(){return{}})))((function(e){var t=e.onSwiped,n=e.children;return a.a.createElement(r.Fragment,null,a.a.createElement(ma,null,a.a.createElement(ha,null,a.a.createElement(hn.a,{onSwiped:t},n)),a.a.createElement(xr,{isSidePanelOpen:!1,sideBarWidth:"0px"})))}));function ba(){return(ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function va(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ya(e){var t=e.component,n=e.onSwiped,r=va(e,["component","onSwiped"]);return a.a.createElement(ln.b,ba({},r,{render:function(e){return a.a.createElement(ga,{onSwiped:n},a.a.createElement(t,e))}}))}var Oa=n(244),wa=n(533),Ea=n(536),ja=n(535),Ca=n(534),_a=n(548),Sa=dn.b.div.withConfig({displayName:"Documents__Root"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;"]),xa=dn.b.div.withConfig({displayName:"Documents__LoadingContainer"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:calc((100vh - 200px) / 2);"]),Pa=Object(dn.b)(wa.a).withConfig({displayName:"Documents__ContentCard"})(["display:flex;width:100%;margin-bottom:","px;background-color:",";min-height:15vh;transition:",";"],(function(e){return e.theme.spacing(1)}),(function(e){e.theme;return"edit"===e.mode?"#f8f8f8":"transparent"}),(function(e){var t=e.theme;return t.transitions.create(["background","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.standard})})),Ta=Object(dn.b)(Ca.a).withConfig({displayName:"Documents__ActionContainer"})(["padding:0px;width:","px;transition:",";"],(function(e){var t=e.theme;return"edit"===e.mode?t.spacing(6):0}),(function(e){var t=e.theme;return t.transitions.create(["background","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.standard})})),ka=Object(dn.b)(_a.a).withConfig({displayName:"Documents__EditCheckbox"})(["opacity:",";transition:",";"],(function(e){return"edit"===e.mode?1:0}),(function(e){var t=e.theme;return t.transitions.create(["opacity"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.standard})})),Da=Object(dn.b)(ja.a).withConfig({displayName:"Documents__TextContainer"})(["flex-grow:1;width:60%;"]),Na=Object(dn.b)(Ea.a).withConfig({displayName:"Documents__ImageBox"})(["width:40%;"]);var Ra=Object(gn.a)((function(){return{}}))((function(e){var t=e.mode,n=e.onMount,o=e.reloadDocuments,i=e.data,c=e.loading,u=e.loaded,l=e.hasSession,s=e.onClickItem;return Object(r.useEffect)((function(){u||c||(console.log("start loading"),n().then((function(e){e&&console.log("documents data loaded!")})))}),[l,u,c,n]),a.a.createElement(Sa,null,c&&(null==i?void 0:i.length)<1?a.a.createElement(xa,null,a.a.createElement(Pr.a,null)):a.a.createElement(Oa.a,{onRefresh:o},(null==i?void 0:i.length)>0?i.map((function(e){var n=e.id,r=e.title,o=e.image_url,i=e.selected;return a.a.createElement(Pa,{key:n,onClick:s(n),mode:t},a.a.createElement(Ta,{mode:t},a.a.createElement(ka,{color:"default",mode:t,checked:!!i})),a.a.createElement(Da,null,a.a.createElement(Nn.a,{variant:"h5"},r)),a.a.createElement(Na,{image:o,title:"Image"}))})):null))}));function Aa(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function La(e){return"edit"===e.path.split("/").pop()?"edit":""}var Ia=Object(mn.a)(Object(o.c)((function(e,t){return{mode:La(t.match),data:Ne(e),loaded:Pe(e),loading:Te(e)}}),(function(e,t){var n,r,a=t.hasSession,o=t.match;return{onMount:(n=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}return t.next=3,e(Ue());case 3:return t.abrupt("return",!0);case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})),r=function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){Aa(o,r,a,i,c,"next",e)}function c(e){Aa(o,r,a,i,c,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)}),reloadDocuments:function(){return e(Ue())},onClickItem:function(t){return function(){var n=La(o);return e("edit"===n?Me(t):function(e){return Object(Un.e)("/documents/detail/".concat(e))}(t))}}}})))(Ra),Ma=function(e){return function(t){return e(t.detail||{})}},Ua=Ma((function(e){return e.data})),Ba=Ma((function(e){return e.loaded})),Ha=Ma((function(e){return e.loading}));function Fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return za(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ga=dn.b.div.withConfig({displayName:"DocumentDetail__Root"})(["padding:","px;display:flex;align-items:center;justify-content:center;flex-direction:column;"],(function(e){return e.theme.spacing(2)})),Wa=dn.b.div.withConfig({displayName:"DocumentDetail__LoadingContainer"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:calc((100vh - 200px) / 2);"]),Ja=Object(dn.b)(yr.a).withConfig({displayName:"DocumentDetail__TypoBox"})(["width:100%;"]),Xa=Object(dn.b)(yr.a).withConfig({displayName:"DocumentDetail__ImageBox"})(["display:block;max-width:100%;max-height:70vh;width:auto;height:auto;"]),$a=dn.b.img.withConfig({displayName:"DocumentDetail__Image"})(["width:100%;height:100%;object-fit:scale-down;"]);Object(dn.b)(vr.a).withConfig({displayName:"DocumentDetail__ButtonContainer"})(["display:flex;align-items:center;justify-content:center;"]);var Va=Object(gn.a)((function(){return{}}))((function(e){var t=e.id,n=e.data,o=e.loading,i=e.loaded,c=e.hasSession,u=e.onMount,l=Fa(Object(r.useState)(null),2),s=l[0],f=l[1];if(Object(r.useEffect)((function(){console.log("mounting document detail."),t&&s!==t&&(console.log("loading detail data for "+t),u().then((function(e){e&&(f(t),console.log("data loaded!"))})))}),[t,c,s,u]),o||t&&s!==t)return a.a.createElement(Wa,null,a.a.createElement(Pr.a,null));if(!i)return null;var p=n.image_url,d=n.title;return a.a.createElement(Ga,null,a.a.createElement(Ja,null,a.a.createElement(Nn.a,{align:"left",variant:"h5"},d)),a.a.createElement(Xa,null,a.a.createElement($a,{src:p})))}));function Qa(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var Ya=Object(mn.a)(Object(o.c)((function(e,t){return{data:Ua(e),loading:Ha(e),loaded:Ba(e)}}),(function(e,t){var n,r,a,o=t.match,i=t.hasSession,c=null==o||null===(n=o.params)||void 0===n?void 0:n.id;return{id:c,onUnmount:function(){return e(ht())},onMount:(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=4;break}return t.next=3,e(mt(c));case 3:return t.abrupt("return",!0);case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})),a=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){Qa(o,n,a,i,c,"next",e)}function c(e){Qa(o,n,a,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}})))(Va),qa=n(245),Ka=n.n(qa);var Za=Object(mn.a)(Object(o.c)((function(e){return{}}),(function(e){return{onClick:function(){return e(Object(Un.e)("/documents/edit"))}}})))((function(e){var t=e.onClick;return a.a.createElement(yr.a,{onClick:t},a.a.createElement(Ka.a,{fontSize:"large"}))})),eo=n(246),to=n.n(eo);function no(){return(no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ro={height:"56px",paddingTop:"16px"},ao=Object(dn.b)(xn.a).withConfig({displayName:"GoBackHeader__Headerbar"})(["background:#fcfcfc;color:#888888;display:flex;position:relative;"]),oo=Object(dn.b)(Pn.a).withConfig({displayName:"GoBackHeader__AppToolbar"})(["height:",";min-height:0px;"],(function(e){return e.height})),io=Object(dn.b)(Nn.a).withConfig({displayName:"GoBackHeader__HeaderTitle"})(["flex-grow:1;z-index:1200;"]);var co=Object(gn.a)((function(e){return{}}))(Object.assign((function(e){var t=e.onClickBack;return a.a.createElement(ao,no({position:"fixed",elevation:1},ro),a.a.createElement(oo,{disableGutters:!0},a.a.createElement(r.Fragment,null,a.a.createElement(Tn.a,{color:"inherit","aria-label":"back",onClick:t},a.a.createElement(to.a,null)),a.a.createElement(io,{variant:"subtitle1",color:"inherit",noWrap:!0,onClick:t},"戻る"))))}),ro)),uo=Object(mn.a)(Object(o.c)(null,(function(e){return{onClickBack:function(){return e(Object(Un.c)())}}})))(co),lo=n(248),so=n.n(lo),fo=n(247),po=n.n(fo);function mo(){return(mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ho={height:"100px"},go=dn.b.div.withConfig({displayName:"EditFooter__Root"})(["display:flex;flex-direction:column;justify-content:flex-end;background-color:transparent;"]),bo=dn.b.div.withConfig({displayName:"EditFooter__Messages"})(["background-color:#ffffff;overflow-y:hidden;height:","px;transition:",";display:flex;align-items:flex-end;justify-content:flex-end;width:100%;padding-right:20px;"],(function(e){return e.show?44:0}),(function(e){var t=e.theme;return t.transitions.create("height",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.standard})})),vo=Object(dn.b)(zn.a).withConfig({displayName:"EditFooter__Buttons"})([""]);var yo=Object(gn.a)((function(e){return{}}))(Object.assign((function(e){var t=e.onClickCancelButton,n=e.onClickDeleteButton,r=e.selectedCount;return a.a.createElement(go,ho,a.a.createElement(bo,{show:r>0},a.a.createElement(Nn.a,{variant:"h5"},"選択中 "),a.a.createElement(Nn.a,{variant:"h4"},r),a.a.createElement(Nn.a,{variant:"h5"}," 件")),a.a.createElement(vo,mo({showLabels:!0},ho),a.a.createElement(Gn.a,{label:"キャンセル",onClick:t,icon:a.a.createElement(po.a,null)}),r>0&&a.a.createElement(Gn.a,{onClick:n,label:"選択したアイテムを削除",icon:a.a.createElement(so.a,null)})))}),ho)),Oo=Object(o.c)((function(e){var t=De(e);return{isApp:Object(g.c)(),selectedCount:t.length}}),(function(e){return{onClickCancelButton:function(){return e(pe()),e(Object(Un.c)())},onClickDeleteButton:function(){return e(Object(Un.e)("/documents/delete"))}}}))(yo);function wo(){return(wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Eo={height:"56px"},jo=dn.b.div.withConfig({displayName:"DeleteFooter__Root"})(["display:flex;flex-direction:column;justify-content:flex-end;background-color:transparent;"]),Co=Object(dn.b)(zn.a).withConfig({displayName:"DeleteFooter__Buttons"})([""]),_o=Object(dn.b)(Gn.a).withConfig({displayName:"DeleteFooter__CancelButton"})([""]),So=Object(dn.b)(Gn.a).withConfig({displayName:"DeleteFooter__DeleteButton"})(["color:#ff2222;"]);var xo=Object(gn.a)((function(e){return{}}))(Object.assign((function(e){var t=e.onClickCancelButton,n=e.onClickDeleteButton;return e.selectedCount,a.a.createElement(jo,Eo,a.a.createElement(Co,wo({showLabels:!0},Eo),a.a.createElement(_o,{label:"キャンセル",onClick:t}),a.a.createElement(So,{onClick:n,label:"確認して削除する"})))}),Eo));function Po(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var To=Object(o.c)((function(e){var t=De(e);return{isApp:Object(g.c)(),selectedCount:t.length}}),(function(e){return{onClickCancelButton:function(){return e(pe()),e(Object(Un.c)())},onClickDeleteButton:(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(pe()),t.next=3,e(Ae(Object(b.a)("DELETE_DOCUMENTS_START"),Object(b.a)("DELETE_DOCUMENTS_SUCCESS"),Object(b.a)("DELETE_DOCUMENTS_FAIL"),function(){var e=Ie(regeneratorRuntime.mark((function e(t,n,r){var a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=De(a),e.next=4,Promise.all(o.map((function(e){return je(t,e)})));case 4:return i=e.sent,console.log(i),n(v("削除完了")),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()));case 3:return t.abrupt("return",e(Hn()));case 4:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){Po(o,r,a,i,c,"next",e)}function c(e){Po(o,r,a,i,c,"throw",e)}i(void 0)}))},function(){return n.apply(this,arguments)})};var t,n}))(xo),ko=n(933),Do=n(932),No=dn.b.div.withConfig({displayName:"DeleteConfirm__Root"})(["display:flex;align-items:top;padding:","px;justify-content:flex-start;flex-direction:column;position:relative;min-height:100%;background-color:#ffffff;"],(function(e){return e.theme.spacing(2)})),Ro=dn.b.div.withConfig({displayName:"DeleteConfirm__LoadingContainer"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:calc((100vh - 200px) / 2);"]),Ao=dn.b.div.withConfig({displayName:"DeleteConfirm__Message"})(["min-height:80px;"]),Lo=Object(dn.b)(wa.a).withConfig({displayName:"DeleteConfirm__ContentCard"})(["display:flex;width:100%;margin-bottom:","px;background-color:",";min-height:15vh;transition:",";"],(function(e){return e.theme.spacing(1)}),(function(e){e.theme;return"edit"===e.mode?"#f8f8f8":"transparent"}),(function(e){var t=e.theme;return t.transitions.create(["background","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.standard})})),Io=Object(dn.b)(ja.a).withConfig({displayName:"DeleteConfirm__TextContainer"})(["flex-grow:1;width:60%;"]),Mo=Object(dn.b)(Ea.a).withConfig({displayName:"DeleteConfirm__ImageBox"})(["width:40%;"]);var Uo=Object(gn.a)((function(){return{}}))((function(e){var t=e.onMount,n=e.data,o=e.loading,i=e.loaded,c=e.hasSession;return Object(r.useEffect)((function(){i||o||(console.log("start loading"),t().then((function(e){e&&console.log("documents data loaded!")})))}),[c,i,o,t]),(null==n?void 0:n.length)<1?a.a.createElement(ln.a,{to:"/"}):a.a.createElement(No,null,o&&(null==n?void 0:n.length)<1?a.a.createElement(Ro,null,a.a.createElement(Pr.a,null)):a.a.createElement(r.Fragment,null,a.a.createElement(Ao,null,a.a.createElement(ko.a,{severity:"error"},a.a.createElement(Do.a,null,"削除確認"),"以下の",n.length,"件のデータを削除します")),n.map((function(e){var t=e.id,n=e.title,r=e.image_url;return a.a.createElement(Lo,{key:t},a.a.createElement(Io,null,a.a.createElement(Nn.a,{variant:"h6"},n)),a.a.createElement(Mo,{image:r,title:"Image"}))}))))}));function Bo(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ho(e){return"edit"===e.path.split("/").pop()?"edit":""}var Fo=Object(mn.a)(Object(o.c)((function(e,t){var n=t.match,r=Ne(e);return{mode:Ho(n),data:(null==r?void 0:r.length)>0?r.filter((function(e){return e.selected})):[],loaded:Pe(e),loading:Te(e)}}),(function(e,t){var n,r,a=t.hasSession;t.match;return{onMount:(n=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}return t.next=3,e(Ue());case 3:return t.abrupt("return",!0);case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})),r=function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){Bo(o,r,a,i,c,"next",e)}function c(e){Bo(o,r,a,i,c,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)})}})))(Uo);function zo(){return(zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Go(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Wo=function(e){return function(t){return"Right"===t.dir&&e()}};function Jo(e){var t=e.goBack,n=e.openSidePanel,r=Go(e,["goBack","openSidePanel"]);return a.a.createElement(ln.b,zo({},r,{render:function(e){var r=e.match;return a.a.createElement(ln.d,null,a.a.createElement(ln.b,{exact:!0,path:"".concat(r.path,"/"),render:function(e){return a.a.createElement(sa,{mainComponent:Ia,rightComponent:Ya,controlComponent:Za,onSwiped:Wo(n),matchProps:e,control:!0})}}),a.a.createElement(ln.b,{exact:!0,path:"".concat(r.path,"/edit"),render:function(e){return a.a.createElement(sa,{mainComponent:Ia,rightComponent:Ya,onSwiped:Wo(n),footerComponent:Oo,matchProps:e})}}),a.a.createElement(ln.b,{exact:!0,path:"".concat(r.path,"/delete"),render:function(e){return a.a.createElement(sa,{mainComponent:Ia,rightComponent:Ya,bottomComponent:Fo,onSwiped:Wo(n),footerComponent:To,matchProps:e,bottom:!0})}}),a.a.createElement(ln.b,{exact:!0,path:"".concat(r.path,"/detail/:id"),render:function(e){return a.a.createElement(sa,{headerComponent:uo,mainComponent:Ia,rightComponent:Ya,onSwiped:Wo(t),matchProps:e,right:!0})}}))}}))}var Xo=dn.b.div.withConfig({displayName:"Home__Root"})(["display:flex;padding:","px;align-items:center;justify-content:center;flex-direction:column;"],(function(e){return e.theme.spacing(2)})),$o=Object(dn.b)(wa.a).withConfig({displayName:"Home__ContentCard"})(["position:relative;width:100%;margin-bottom:","px;"],(function(e){return e.theme.spacing(1)}));var Vo=Object(gn.a)((function(){return{}}))((function(e){var t=e.userName;return a.a.createElement(Xo,null,a.a.createElement($o,null,a.a.createElement(ja.a,null,t&&a.a.createElement(r.Fragment,null,a.a.createElement(Nn.a,{variant:"h5"},"ようこそ"),a.a.createElement(Nn.a,{align:"center",variant:"subtitle1"},"".concat(t,"  さん"),""))),a.a.createElement(Ca.a,null)))})),Qo=Object(mn.a)(Object(o.c)((function(e){return{userName:W(e)}}),(function(e){return{}})))(Vo),Yo=n(249),qo=n.n(Yo),Ko=dn.b.div.withConfig({displayName:"Camera__Root"})(["width:100vw;height:100vh;"]),Zo=Object(o.c)(null,(function(e){return{handleTakePhoto:function(t){e(We(t,Date.now())),e(Object(Un.f)("/submit-picture"))}}}))((function(e){var t=e.handleTakePhoto;return a.a.createElement(Ko,null,a.a.createElement(qo.a,{idealFacingMode:"FACING_MODES.ENVIRONMENT",onTakePhoto:function(e){t(e)}}))})),ei=n(537),ti=n(538),ni=n(250),ri=n.n(ni),ai=n(251),oi=n.n(ai),ii=Object(o.c)((function(e){return{settings:e.settings}}),(function(e){return Object(s.b)({toggleThemeMode:function(e){return{type:"settings/TOGGLETHEMEMODE",enableDark:e}},swapThemeColors:function(e){return{type:"settings/SWAPTHEMECOLORS",colorsSwaped:e}}},e)}))((function(e){return a.a.createElement("div",null,a.a.createElement(Nn.a,{variant:"h5"},"Settings"),a.a.createElement(wa.a,null,a.a.createElement(ja.a,null,a.a.createElement(tr.a,null,a.a.createElement(nr.a,null,a.a.createElement(rr.a,null,a.a.createElement(ri.a,null)),a.a.createElement(ar.a,{primary:"Dark Mode"}),a.a.createElement(ei.a,null,a.a.createElement(ti.a,{onChange:function(t,n){return e.toggleThemeMode(n)},checked:e.settings.darkMode}))),a.a.createElement(nr.a,null,a.a.createElement(rr.a,null,a.a.createElement(oi.a,null)),a.a.createElement(ar.a,{primary:"Swap Colors"}),a.a.createElement(ei.a,null,a.a.createElement(ti.a,{onChange:function(t,n){return e.swapThemeColors(n)},checked:e.settings.colorsSwaped})))))))})),ci=n(252),ui=n(541),li=Object(dn.b)(vr.a).withConfig({displayName:"SubmitPicture__Root"})([""]),si=Object(dn.b)(yr.a).withConfig({displayName:"SubmitPicture__ImageBox"})(["display:block;max-width:100%;max-height:70vh;width:auto;height:auto;"]),fi=dn.b.img.withConfig({displayName:"SubmitPicture__Image"})(["width:100%;height:100%;object-fit:scale-down;"]),pi=Object(dn.b)(vr.a).withConfig({displayName:"SubmitPicture__ButtonContainer"})(["display:flex;align-items:center;justify-content:center;height:20vh;"]),di=Object(dn.b)(yr.a).withConfig({displayName:"SubmitPicture__InputBox"})(["display:block;width:100%;"]),mi=Object(dn.b)(ui.a).withConfig({displayName:"SubmitPicture__TitleField"})(["width:100%;"]);var hi=Object(gn.a)((function(){return{}}))((function(e){var t=e.picture,n=e.title,o=e.sending,i=e.onTitleChange,c=e.onClickSubmitButton,u=Object(r.useCallback)(Object(ci.a)(200,!1,(function(e){i(e)})),[]);return"string"!=typeof(null==t?void 0:t.uri)?a.a.createElement(ln.a,{to:"/"}):a.a.createElement(li,null,a.a.createElement(si,null,a.a.createElement(fi,{src:t.uri})),a.a.createElement(di,null,a.a.createElement("form",{noValidate:!0,autoComplete:"off"},a.a.createElement(mi,{id:"standard-basic",label:"タイトル",defaultValue:n,onChange:function(e){return u(e.target.value)}}))),a.a.createElement(pi,{maxWidth:"sm"},a.a.createElement(Or.a,{onClick:c,variant:"contained",size:"large",color:"primary",disabled:o},"投稿")))}));function gi(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var bi=Object(o.c)((function(e){return{sending:Fe(e),picture:He(e),title:ze(e)}}),(function(e){return{onClickRetakeButton:function(){return Object(g.c)()?Fn(Camera.PictureSourceType.CAMERA,Camera.DestinationType.FILE_URI,e):e(Object(Un.f)("/camera"))},onClickSubmitButton:(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Je());case 2:e(Hn());case 3:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){gi(o,r,a,i,c,"next",e)}function c(e){gi(o,r,a,i,c,"throw",e)}i(void 0)}))},function(){return n.apply(this,arguments)}),onTitleChange:function(t){return e(Xe(t))}};var t,n}))(hi),vi=Object(Rt.a)(),yi=dn.b.div.withConfig({displayName:"App__Root"})(["height:100vh;width:100vw;overflow-x:hidden;"]),Oi=function(){return a.a.createElement("div",null,"NotFound???")},wi=function(e){return function(t){return"Right"===t.dir&&e()}};var Ei=Object(o.c)((function(e){return{settings:e.settings}}),(function(e){return{goBack:function(){return e(Object(Un.c)())},openSidePanel:function(){return e(fe())}}}))((function(e){var t=e.goBack,n=e.openSidePanel;return a.a.createElement(fn.b,{injectFirst:!0},a.a.createElement(pn.a,{theme:vi},a.a.createElement(dn.a,{theme:vi},a.a.createElement(sn.a,null),a.a.createElement(yi,null,a.a.createElement(O.a,{history:rn},a.a.createElement(ln.d,null,a.a.createElement(da,{path:"/setting",mainComponent:ii,onSwiped:wi(n)}),a.a.createElement(ya,{path:"/camera",component:Zo,onSwiped:wi(t)}),a.a.createElement(da,{path:"/submit-picture",mainComponent:bi,onSwiped:wi(n)}),a.a.createElement(Jo,{path:"/documents",goBack:t,openSidePanel:n}),a.a.createElement(da,{path:["/","/home"],mainComponent:Qo,onSwiped:wi(n)}),a.a.createElement(ya,{component:Oi})))))))})),ji=(n(478),n(479),n(480),document.getElementById("app"));Object(g.a)().then((function(){Object(g.b)(),c.a.render(a.a.createElement(u.AppContainer,null,a.a.createElement(o.a,{store:cn},a.a.createElement(l.a,{persistor:un},a.a.createElement(Ei,null)))),ji)}))}},[[274,1,2]]]);