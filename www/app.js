(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{236:function(e,t,n){n(237),e.exports=n(444)},38:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=function(){return window.hasOwnProperty("cordova")},a=function(){return r()?(console.log("using cordova."),new Promise((function(e,t){document.addEventListener("deviceready",(function(){return console.log("device ready!"),e()}),!1)}))):(console.log("web platform."),Promise.resolve())},o=function(){r()&&(e.window.open=cordova.InAppBrowser.open)}}).call(this,n(109))},442:function(e,t,n){},444:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),i=n(17),c=n.n(i),u=n(220),l=n(195),s=n(29),f=n(42),p=n(196),m=n(197),d=n(115),h=n(193),b=n(38),v=function(e){return function(t){return e(t.login||{})}},g=v((function(e){return e.user_name})),y=(v((function(e){return e.user_id})),v((function(e){return e.session}))),O=v((function(e){return!!e.session})),w=n(74),E=n.n(w),j="https://lvktm7vhal.execute-api.ap-northeast-1.amazonaws.com/test",C="".concat(j,"/github"),S="".concat(j,"/github/callback"),P="".concat(j,"/github/login"),_="".concat(j,"/github/check"),x="".concat(j,"/github/logout"),k="".concat(j,"/documents"),R="".concat(j,"/document");function T(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function A(e){return{Accept:"application/json","Content-Type":"application/json","X-Api-Session-Id":e||""}}function L(e){return I.apply(this,arguments)}function I(){return(I=D(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status>=400)){e.next=7;break}return e.t0=console,e.next=4,t.text();case 4:throw e.t1=e.sent,e.t0.error.call(e.t0,e.t1),new Error("Invalid response");case 7:return e.next=9,t.json();case 9:return n=e.sent,console.log(n),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,c,"next",e)}function c(e){N(o,r,a,i,c,"throw",e)}i(void 0)}))}}var U=function(){var e=M(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E()(_,{method:"POST",headers:A(t),body:""});case 2:return n=e.sent,e.abrupt("return",L(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=M(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({code:t}),e.next=3,E()(P,{method:"POST",headers:A(),body:n});case 3:return r=e.sent,e.abrupt("return",L(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=M(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E()(x,{method:"POST",headers:A(t),body:""});case 2:return n=e.sent,e.abrupt("return",L(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function H(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){H(o,r,a,i,c,"next",e)}function c(e){H(o,r,a,i,c,"throw",e)}i(void 0)}))}}var F=function(e){return function(){var t=W(regeneratorRuntime.mark((function t(n,r){var a,o,i,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r(),O(a)&&n({type:"LOGOUT"}),t.prev=2,t.next=5,B(e);case 5:return o=t.sent,i=o.session,c=o.user_id,u=o.user_name,t.abrupt("return",n({type:"LOGIN_SUCCESS",payload:{session:(l={session:i,user_name:u,user_id:c}).session,user_id:l.user_id,user_name:l.user_name}}));case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0),alert("連携認証に失敗しました。もう一度ログインをやりなおしてください"),n({type:"LOGOUT"});case 17:case"end":return t.stop()}var l}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}()},z=function(){return function(){var e=W(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),a=y(r),e.prev=2,e.next=5,U(a);case 5:return o=e.sent,i=o.session,c=o.user_id,u=o.user_name,e.abrupt("return",t({type:"REAUTH_SUCCESS",payload:{session:(l={session:i,user_name:u,user_id:c}).session,user_id:l.user_id,user_name:l.user_name}}));case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),alert("セッションが無効になりました。再ログインが必要です"),t({type:"LOGOUT"});case 17:case"end":return e.stop()}var l}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()},J=n(82),X=n(198),$=n.n(X);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=Object.freeze({session:null,user_id:null,user_name:null}),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":case"REAUTH_SUCCESS":var n=t.payload,r=n.session,a=n.user_id,o=n.user_name;return V(V({},K),{},{session:r,user_id:a,user_name:o});case"LOGOUT":return V({},K);default:return e}},Z=n(496),ee=Object(Z.a)("TOGGLE_SIDEPANEL"),te=Object(Z.a)("CLOSE_SIDEPANEL");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe={open:!1},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;t.payload;switch(t.type){case"TOGGLE_SIDEPANEL":return re(re({},e),{},{open:!e.open});case"CLOSE_SIDEPANEL":return re(re({},e),{},{open:!1});default:return e}};function ce(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ce(o,r,a,i,c,"next",e)}function c(e){ce(o,r,a,i,c,"throw",e)}i(void 0)}))}}var le=function(){var e=ue(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E()(k,{headers:A(t)});case 2:return n=e.sent,e.abrupt("return",L(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=ue(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.image,a=n.title,e.next=3,E()(R,{method:"POST",headers:A(t),body:JSON.stringify({image:r,title:a})});case 3:return o=e.sent,e.abrupt("return",L(o));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(e){return function(t){return e(t.picture||{})}},pe=(fe((function(e){return e.pictures})),fe((function(e){var t;return(null===(t=e.pictures)||void 0===t?void 0:t.length)>0?e.pictures[0]:null})));function me(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){me(o,r,a,i,c,"next",e)}function c(e){me(o,r,a,i,c,"throw",e)}i(void 0)}))}}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=Object.freeze({data:null,loading:!1,loaded:!1}),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DOCUMENTS_SUCCESS":var n=t.payload.documents;return be(be({},ge),{},{data:n,loaded:!0,loading:!1});case"CLEAR_DOCUMENTS":return be({},ge);default:return e}};function Oe(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se={pictures:[]},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"ADD_PICTURE":return je(je({},e),{},{pictures:[{uri:n.uri,name:n.name||"NO_NAME"}].concat(Oe(e.pictures))});case"CLEAR_PICTURE":return je(je({},e),{},{pictures:[]});default:return e}},_e=n(221),xe=n(147),ke=n.n(xe),Re=n(148),Te=n.n(Re),De=n(200),Ae=n.n(De);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=ke.a,Ue=Te.a,Be={palette:{primary:ke.a,secondary:Te.a,error:Ae.a,contrastThreshold:3,tonalOffset:.2}},Ge={theme:Object(_e.a)(Be),darkMode:!1,colorsSwaped:!1};function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"settings/TOGGLETHEMEMODE":return t.enableDark?Ie(Ie({},e),{},{theme:Object(_e.a)(Ie(Ie({},Be),{},{palette:Ie(Ie({},Be.palette),{},{primary:e.theme.palette.primary,secondary:e.theme.palette.secondary,type:"dark"})})),darkMode:!0}):Ie(Ie({},e),{},{theme:Object(_e.a)(Ie(Ie({},Be),{},{palette:Ie(Ie({},Be.palette),{},{primary:e.theme.palette.primary,secondary:e.theme.palette.secondary})})),darkMode:!1});case"settings/SWAPTHEMECOLORS":return t.colorsSwaped?Ie(Ie({},e),{},{theme:Object(_e.a)(Ie(Ie({},Be),{},{palette:Ie(Ie({},e.theme.palette),{},{primary:Ue,secondary:Me})})),colorsSwaped:!0}):Ie(Ie({},e),{},{theme:Object(_e.a)(Ie(Ie({},Be),{},{palette:Ie(Ie({},e.theme.palette),{},{primary:Me,secondary:Ue})})),colorsSwaped:!1});default:return e}}function We(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){We(o,r,a,i,c,"next",e)}function c(e){We(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Je,Xe,$e=Object(b.c)()?Object(f.b)():Object(f.a)(),Qe=(Object(m.createLogger)(),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d),Ve=[Object(h.a)($e),p.a,!1].filter(Boolean),qe=Object(s.e)((Xe=$e,Object(d.a)({key:"root",storage:$.a,whitelist:["login","settings"]},function(e){return Object(s.c)({router:Object(J.b)(e),login:Y,picture:Pe,settings:He,sidepanel:ie,documents:ye})}(Xe))),{},Qe(s.a.apply(void 0,function(e){if(Array.isArray(e))return ze(e)}(Je=Ve)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(Je)||function(e,t){if(e){if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}(Je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),Ke=Object(d.b)(qe,null,Fe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=qe.getState(),O(t)&&qe.dispatch(z());case 2:case"end":return e.stop()}}),e)})))),Ye=n(32),Ze=n(490),et=n(493),tt=n(489),nt=n(11),rt=n(36),at=n(6),ot=n(474),it=n(475),ct=n(476),ut=n(208),lt=n.n(ut),st=n(116),ft=Object(nt.b)(st.a).withConfig({displayName:"Header__HeaderTitle"})(["flex-grow:1;"]);var pt=Object(at.a)((function(e){return{}}))((function(e){var t=e.classes,n=e.onClicHamberger;return a.a.createElement(ot.a,{position:"fixed"},a.a.createElement(it.a,{disableGutters:!0,classes:{root:t.toolbarRoot}},a.a.createElement(ct.a,{color:"inherit","aria-label":"Open drawer",onClick:n,className:t.menuButton},a.a.createElement(lt.a,null)),a.a.createElement(ft,{variant:"subtitle1",color:"inherit",noWrap:!0},"アプリちゃん")))})),mt=Object(rt.a)(Object(o.c)(null,(function(e){return{onClicHamberger:function(){return e(ee())}}})))(pt),dt=function(e,t){return{type:"ADD_PICTURE",payload:{uri:e,name:t}}},ht=n(25),bt=function(){return Object(ht.d)("/documents")};function vt(e,t,n){return navigator.camera.getPicture(function(e,t){return function(n){return t===Camera.DestinationType.DATA_URL?e(dt("data:image/jpeg;base64, "+n,Date.now())):e(dt(n,Date.now())),e(Object(ht.d)("/submit-picture"))}}(n,t),(function(e){alert(e)}),function(e,t){return{quality:90,sourceType:e,destinationType:t,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.PICTURE,cameraDirection:Camera.Direction.BACK,correctOrientation:!0}}(e,t))}var gt=n(477),yt=n(478),Ot=n(209),wt=n.n(Ot),Et=n(210),jt=n.n(Et),Ct=n(211),St=n.n(Ct),Pt=nt.b.div.withConfig({displayName:"Footer__Root"})(["position:fixed;z-index:2000;width:100vw;max-height:15vw;bottom:0;"]);var _t=Object(at.a)((function(e){return{}}))((function(e){var t=e.onClickCameraButton,n=e.onClickDocumentButton,r=e.onClickHomeButton;return a.a.createElement(Pt,null,a.a.createElement(gt.a,{showLabels:!0},a.a.createElement(yt.a,{label:"ホーム",icon:a.a.createElement(wt.a,{onClick:r})}),a.a.createElement(yt.a,{label:"カメラ",icon:a.a.createElement(jt.a,{fontSize:"large",onClick:t})}),a.a.createElement(yt.a,{label:"ドキュメント",icon:a.a.createElement(St.a,{onClick:n})})))})),xt=Object(o.c)((function(e){return{isApp:Object(b.c)(),hasWebCamera:!!navigator.mediaDevices}}),(function(e){return{onClickHomeButton:function(){return e(Object(ht.d)("/"))},onClickCameraButton:function(){return Object(b.c)()?vt(Camera.PictureSourceType.CAMERA,Camera.DestinationType.DATA_URL,e):e(Object(ht.d)("/camera"))},onClickDocumentButton:function(){return e(bt())}}}))(_t),kt=n(491),Rt=n(479),Tt=n(497),Dt=n(480),At=n(481),Lt=n(212),It=n.n(Lt),Nt=n(213),Mt=n.n(Nt),Ut=n(215),Bt=n.n(Ut),Gt=n(214),Ht=n.n(Gt),Wt=Object(nt.b)(kt.a).withConfig({displayName:"Sidebar__StyledDrawer"})(["& > div{position:fixed;top:","px;white-space:nowrap;width:",";transition:",";","}"],(function(e){return e.theme.spacing(8)}),(function(e){return e.width}),(function(e){var t=e.theme;return t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}),(function(e){return e.open?"":"\n    overflow-x: hidden;\n    width: 0vw;\n    transition: ".concat((function(e){var t=e.theme;return t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})}),";\n    ").concat((function(e){return e.theme.breakpoints.up("sm")}),": {\n      width: ").concat((function(e){return 9*e.theme.spacing.unit}),"\n    };\n    ")}));var Ft=Object(at.a)((function(){return{}}))((function(e){var t=e.open,n=e.isLoggedIn,o=e.onClickSidepanel,i=e.sideBarWidth,c=e.onClickRefresh,u=e.onClickLogout,l=e.onClickDocuments,s=e.onClickSetting;return a.a.createElement(Wt,{variant:"permanent",width:i,open:t,onClick:o},a.a.createElement(Rt.a,null,n?a.a.createElement(r.Fragment,null,a.a.createElement(Tt.a,{button:!0,onClick:l},a.a.createElement(Dt.a,null,a.a.createElement(It.a,null)),a.a.createElement(At.a,{primary:"ドキュメント一覧"})),a.a.createElement(Tt.a,{button:!0,onClick:c},a.a.createElement(Dt.a,null,a.a.createElement(Mt.a,null)),a.a.createElement(At.a,{primary:"再読み込み"})),a.a.createElement(Tt.a,{button:!0,onClick:u},a.a.createElement(Dt.a,null,a.a.createElement(Ht.a,null)),a.a.createElement(At.a,{primary:"ログアウト"}))):null,a.a.createElement(Tt.a,{button:!0,onClick:s},a.a.createElement(Dt.a,null,a.a.createElement(Bt.a,null)),a.a.createElement(At.a,{primary:"設定"}))))})),zt=Object(rt.a)(Object(o.c)((function(e){return{isLoggedIn:O(e),userName:g(e)}}),(function(e){return{onClickSidepanel:function(){return e(te())},onClickDocuments:function(){return e(bt())},onClickLogout:function(){return e(function(){var e=W(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),a=y(r),e.prev=2,e.next=5,G(a);case 5:t({type:"LOGOUT"}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),alert("ログアウト処理に失敗しました。別のブラウザで手動でログアウトを行ってください"),t({type:"LOGOUT"});case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}())},onClickSetting:function(){return e(Object(ht.d)("/setting"))},onClickRefresh:function(){return e(z())}}})))(Ft),Jt=n(482),Xt=n(492),$t=n(483),Qt=Object(nt.b)(Jt.a).withConfig({displayName:"Login__Root"})(["position:fixed;min-height:100vh;background-color:#ffffff;top:100vh;"," transform:",";"],(function(e){var t=e.theme;return"\n  padding: ".concat(t.spacing(2),"px;\n  margin-top: ").concat(t.spacing(7),"px;\n  transition: ").concat(t.transitions.create(["transform"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.standard}),"; ")}),(function(e){return"translate(".concat(e.isSidePanelOpen?e.sideBarWidth:"0",", ").concat(e.isLoggedIn?"0":"-100vh",")")})),Vt=Object(nt.b)(Jt.a).withConfig({displayName:"Login__TitleButtonContainer"})(["display:flex;align-items:center;justify-content:center;height:20vh;"]),qt=Object(nt.b)(Jt.a).withConfig({displayName:"Login__ContentContainer"})(["display:flex;align-items:center;justify-content:center;flex-grow:1;"]),Kt=Object(nt.b)(Jt.a).withConfig({displayName:"Login__LoginButtonContainer"})(["display:flex;align-items:center;justify-content:center;height:20vh;"]);var Yt=Object(at.a)((function(e){return{}}))((function(e){var t=e.onClickLogin,n=e.isSidePanelOpen,r=e.isLoggedIn,o=e.sideBarWidth;return a.a.createElement(Qt,{isLoggedIn:r,isSidePanelOpen:n,sideBarWidth:o},a.a.createElement(Xt.a,null,a.a.createElement(Vt,null,a.a.createElement(st.a,{variant:"h4",component:"h4"},"ログイン")),a.a.createElement(qt,null),a.a.createElement(Kt,{maxWidth:"sm"},a.a.createElement($t.a,{onClick:t,variant:"contained",size:"large",color:"primary"},"ログイン"))))})),Zt=n(216),en=n.n(Zt);function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function an(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){rn(o,r,a,i,c,"next",e)}function c(e){rn(o,r,a,i,c,"throw",e)}i(void 0)}))}}var on=function(){return Object(b.c)()?new Promise((function(e){var t=cordova.InAppBrowser.open(C,"_blank","location=yes,footer=yes");t.addEventListener("loadstop",function(){var n=an(regeneratorRuntime.mark((function n(r){var a,o,i,c,u,l,s,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(JSON.stringify(r)),a=r.url,o=a.split("?"),i=tn(o,2),c=i[1],u=void 0===c?"":c,l=en.a.parse(u)||{},s=l.code,f=void 0===s?null:s,console.log("code="+f),f&&(t.close(),e(f));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})):new Promise((function(e){var t=window.open(C,"_blank","location=yes,footer=yes,width=480,height=640"),n=setInterval((function(){t.postMessage({type:"REQUEST_AUTH_CODE"},S)}),100);window.addEventListener("message",function(){var r=an(regeneratorRuntime.mark((function r(a){var o,i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=a.data,i=o.type,c=o.code,console.log(a.data),"AUTH_CODE"!==i){r.next=11;break}if(console.log(c),!c){r.next=9;break}return clearInterval(n),e(c),n=setInterval((function(){t.postMessage({type:"REQUEST_CLOSE_WINDOW"},S)}),100),r.abrupt("return");case 9:r.next=12;break;case 11:"CLOSE_WINDOW"===i&&clearInterval(n);case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}))};function cn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var un,ln=Object(rt.a)(Object(o.c)((function(e){return{isLoggedIn:O(e)}}),(function(e){return{onClickLogin:(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,on();case 3:n=t.sent,e(F(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("ログイン処理に失敗しました.");case 10:case 11:case"end":return t.stop()}}),t,null,[[0,7]])})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){cn(o,r,a,i,c,"next",e)}function c(e){cn(o,r,a,i,c,"throw",e)}i(void 0)}))},function(){return n.apply(this,arguments)})};var t,n})))(Yt),sn=(un=function(e){return e.open},function(e){return un(e.sidepanel||{})}),fn=nt.b.div.withConfig({displayName:"MainLayout__Root"})(["display:flex;flex-direction:column;"]),pn=nt.b.main.withConfig({displayName:"MainLayout__Main"})(["width:100vw;overflow-x:hidden;"," transform:",";"],(function(e){var t=e.theme;return"\n  padding: ".concat(t.spacing(2),"px;\n  margin-top: ").concat(t.spacing(7),"px;\n  transition: ").concat(t.transitions.create(["transform"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.standard}),"; ")}),(function(e){var t=e.isSidePanelOpen,n=e.sideBarWidth;return t?"translateX(".concat(n,")"):""}));var mn=Object(rt.a)(Object(o.c)((function(e){return{isSidePanelOpen:sn(e)}})),Object(at.a)((function(){return{}})))((function(e){var t=e.isSidePanelOpen,n=(e.isLoggedIn,e.children);return a.a.createElement(r.Fragment,null,a.a.createElement(fn,null,a.a.createElement(mt,null),a.a.createElement(pn,{isSidePanelOpen:t,sideBarWidth:"70vw"},n),a.a.createElement(ln,{isSidePanelOpen:t,sideBarWidth:"70vw"})),a.a.createElement(zt,{open:t,sideBarWidth:"70vw"}),a.a.createElement(xt,null))}));function dn(){return(dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bn(e){var t=e.component,n=hn(e,["component"]);return a.a.createElement(Ye.b,dn({},n,{render:function(e){return a.a.createElement(mn,null,a.a.createElement(t,e))}}))}var vn=function(e){return a.a.createElement("div",{style:{height:"inherit"}},e.children)};function gn(){return(gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function On(e){var t=e.component,n=yn(e,["component"]);return a.a.createElement(Ye.b,gn({},n,{render:function(e){return a.a.createElement(vn,null,a.a.createElement(t,e))}}))}var wn=n(484),En=n(485),jn=n(486),Cn=nt.b.div.withConfig({displayName:"Home__Root"})(["display:flex;alignitems:center;justify-content:center;flex-direction:column;"]),Sn=Object(nt.b)(wn.a).withConfig({displayName:"Home__ContentCard"})(["position:relative;width:100%;margin-bottom:","px;"],(function(e){return e.theme.spacing(1)}));var Pn=Object(at.a)((function(){return{}}))((function(e){var t=e.userName;return a.a.createElement(Cn,null,a.a.createElement(Sn,null,a.a.createElement(En.a,null,t&&a.a.createElement(r.Fragment,null,a.a.createElement(st.a,{variant:"h5"},"ようこそ"),a.a.createElement(st.a,{align:"center",variant:"subtitle1"},t," さん"))),a.a.createElement(jn.a,null)))})),_n=Object(rt.a)(Object(o.c)((function(e){return{userName:g(e)}}),(function(e){return{}})))(Pn),xn=n(217),kn=n.n(xn),Rn=nt.b.div.withConfig({displayName:"Camera__Root"})(["width:100vw;height:100vh;"]),Tn=Object(o.c)(null,(function(e){return{handleTakePhoto:function(t){e(dt(t,Date.now())),e(Object(ht.e)("/submit-picture"))}}}))((function(e){var t=e.handleTakePhoto;return a.a.createElement(Rn,null,a.a.createElement(kn.a,{idealResolution:{width:480,height:720},idealFacingMode:"FACING_MODES.ENVIRONMENT",onTakePhoto:function(e){t(e)}}))})),Dn=n(487),An=n(495),Ln=n(218),In=n.n(Ln),Nn=n(219),Mn=n.n(Nn),Un=Object(o.c)((function(e){return{settings:e.settings}}),(function(e){return Object(s.b)({toggleThemeMode:function(e){return{type:"settings/TOGGLETHEMEMODE",enableDark:e}},swapThemeColors:function(e){return{type:"settings/SWAPTHEMECOLORS",colorsSwaped:e}}},e)}))((function(e){return a.a.createElement("div",null,a.a.createElement(st.a,{variant:"h5"},"Settings"),a.a.createElement(wn.a,null,a.a.createElement(En.a,null,a.a.createElement(Rt.a,null,a.a.createElement(Tt.a,null,a.a.createElement(Dt.a,null,a.a.createElement(In.a,null)),a.a.createElement(At.a,{primary:"Dark Mode"}),a.a.createElement(Dn.a,null,a.a.createElement(An.a,{onChange:function(t,n){return e.toggleThemeMode(n)},checked:e.settings.darkMode}))),a.a.createElement(Tt.a,null,a.a.createElement(Dt.a,null,a.a.createElement(Mn.a,null)),a.a.createElement(At.a,{primary:"Swap Colors"}),a.a.createElement(Dn.a,null,a.a.createElement(An.a,{onChange:function(t,n){return e.swapThemeColors(n)},checked:e.settings.colorsSwaped})))))))})),Bn=function(e){return function(t){return e(t.documents||{})}},Gn=Bn((function(e){return e.data})),Hn=Bn((function(e){return e.loaded})),Wn=n(488),Fn=nt.b.div.withConfig({displayName:"Documents__Root"})(["display:flex;alignitems:center;justify-content:center;flex-direction:column;"]),zn=Object(nt.b)(wn.a).withConfig({displayName:"Documents__ContentCard"})(["display:flex;width:100%;margin-bottom:","px;"],(function(e){return e.theme.spacing(1)})),Jn=Object(nt.b)(Wn.a).withConfig({displayName:"Documents__ImageBox"})(["width:35vw;"]);var Xn=Object(at.a)((function(){return{}}))((function(e){var t=e.onMount,n=e.data,o=e.loaded;return Object(r.useEffect)((function(){o||t().then((function(){console.log("data loaded!")}))}),[]),a.a.createElement(Fn,null,(null==n?void 0:n.length)>0?n.map((function(e){var t=e.id,n=e.title,r=e.image_url;return a.a.createElement(zn,{key:t,onClick:function(){return alert(t)}},a.a.createElement(En.a,null,a.a.createElement(st.a,{variant:"h5"},n)),a.a.createElement(Jn,{image:r,title:"Live from space album cover"}),a.a.createElement(jn.a,null))})):null)})),$n=Object(rt.a)(Object(o.c)((function(e){return{data:Gn(e),loaded:Hn(e)}}),(function(e){return{onMount:function(){return e(function(){var e=de(regeneratorRuntime.mark((function e(t,n){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),O(r)){e.next=6;break}return e.next=4,logtryOAuthin();case 4:a=e.sent,t(F(a));case 6:return o=y(r),e.prev=7,e.next=10,le(o);case 10:i=e.sent,console.log(i),t({type:"FETCH_DOCUMENTS_SUCCESS",payload:{documents:i.data}}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),console.error(e.t0),alert("エラーが発生しました。再度やり直してください");case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,n){return e.apply(this,arguments)}}())}}})))(Xn),Qn=Object(nt.b)(Jt.a).withConfig({displayName:"SubmitPicture__Root"})([""]),Vn=Object(nt.b)(Xt.a).withConfig({displayName:"SubmitPicture__ImageBox"})(["display:block;max-width:100%;max-height:70vh;width:auto;height:auto;"]),qn=nt.b.img.withConfig({displayName:"SubmitPicture__Image"})(["width:100%;height:100%;object-fit:scale-down;"]),Kn=Object(nt.b)(Jt.a).withConfig({displayName:"SubmitPicture__ButtonContainer"})(["display:flex;align-items:center;justify-content:center;height:20vh;"]);var Yn=Object(at.a)((function(e){return{}}))((function(e){var t=e.picture,n=e.onClickSubmitButton;return"string"!=typeof(null==t?void 0:t.uri)?a.a.createElement(Ye.a,{to:"/"}):a.a.createElement(Qn,null,a.a.createElement(Vn,null,a.a.createElement(qn,{src:t.uri})),a.a.createElement(Kn,{maxWidth:"sm"},a.a.createElement($t.a,{onClick:n,variant:"contained",size:"large",color:"primary"},"投稿")))}));function Zn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var er=Object(o.c)((function(e){return{picture:pe(e)}}),(function(e){return{onClickRetakeButton:function(){return Object(b.c)()?vt(Camera.PictureSourceType.CAMERA,Camera.DestinationType.FILE_URI,e):e(Object(ht.e)("/camera"))},onClickSubmitButton:(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(function(){var e=de(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),O(r)){e.next=6;break}return e.next=4,logtryOAuthin();case 4:a=e.sent,t(F(a));case 6:return o=y(r),i=pe(r).uri,e.prev=9,e.next=12,se(o,{image:i,title:"This is test from app"});case 12:c=e.sent,console.log(c),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(9),console.error(e.t0),alert("エラーが発生しました。再度やり直してください");case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,n){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){Zn(o,r,a,i,c,"next",e)}function c(e){Zn(o,r,a,i,c,"throw",e)}i(void 0)}))},function(){return n.apply(this,arguments)})};var t,n}))(Yn),tr=Object(_e.a)(),nr=nt.b.div.withConfig({displayName:"App__Root"})(["height:100vh;width:100vw;overflow-x:hidden;"]),rr=function(){return a.a.createElement("div",null,"NotFound???")};var ar=Object(o.c)((function(e){return{settings:e.settings}}),null)((function(e){return e.settings,a.a.createElement(et.b,{injectFirst:!0},a.a.createElement(tt.a,{theme:tr},a.a.createElement(nt.a,{theme:tr},a.a.createElement(Ze.a,null),a.a.createElement(nr,null,a.a.createElement(J.a,{history:$e},a.a.createElement(Ye.d,null,a.a.createElement(bn,{path:"/home",component:_n}),a.a.createElement(bn,{path:"/setting",component:Un}),a.a.createElement(On,{path:"/camera",component:Tn}),a.a.createElement(bn,{path:"/submit-picture",component:er}),a.a.createElement(bn,{path:"/documents",component:$n}),a.a.createElement(bn,{path:"/",component:_n}),a.a.createElement(On,{component:rr})))))))})),or=(n(440),n(441),n(442),document.getElementById("app"));Object(b.a)().then((function(){Object(b.b)(),c.a.render(a.a.createElement(u.AppContainer,null,a.a.createElement(o.a,{store:qe},a.a.createElement(l.a,{persistor:Ke},a.a.createElement(ar,null)))),or)}))}},[[236,1,2]]]);